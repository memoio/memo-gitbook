# How EAS Works

EAS主要基于以下两个主要合约来实现链上以及链下的证明，这两个合约分别负责模式的注册以及证明的创建：

| 合约           | 功能                                                 | 主要链上方法                   |
| -------------- | ---------------------------------------------------- | ------------------------------ |
| SchemeRegistry | 注册一个证明模式，该模式描述了证明包含哪些结构化数据 | register()                     |
| EAS            | 创建一个证明，创建时需要指定模式，并包含相应的数据   | attest();attestByDelegation(); |

## SchemeRegistry

模式是您证明的模板，它规定了您要生成证明的格式和结构。您在生成证明之前，可以先查询是否存在有类似的模式能够满足您的需求，如果没有，您可以依据您的需求注册模式。如果您想发起投票，您可能需要“eventName”、“location”、“startTime”和“endTime”等字段。

以下是注册模式的一般流程：

1. 查看是否有类似的模式可供使用；
2. 定义您的模式的结构；
3. 使用register方法，注册您的模式；
4. 注册成功后，合约会返回给您您的模式的唯一ID；
5. 现在，您可以使用您的模式创建证明了。

## EAS

确定好模式后，即可创建证明：

1. 按照模式要求的数据结构构建证明；
2. 对证明中的结构化数据进行数字签名，从而创建链上和链下证明；
3. 将证明以及模式的唯一ID传入EAS合约；
4. EAS根据模式验证结构化数据并存储证明；
5. 该证明现已记录在区块链上，任何人都可以验证该证明！